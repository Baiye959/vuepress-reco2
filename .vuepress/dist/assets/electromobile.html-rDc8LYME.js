import{_ as o,r as c,o as l,c as i,a as n,b as s,d as e,e as p}from"./app-FwAWHyPI.js";const u="/image/944bbcf50112fbf4f5ac2ac0d7ef521_8DnVCikbwE.png",r="/image/15c41e713fda81a3d0fbe18c64a3619_txHsCXN8is.png",d="/image/74ee6c5eceb957be72e18ea1619250d_o6M0VApWAh.png",k="/image/image_DrudP-46HV.png",v="/image/image_s3qugh5vx2.png",t="/image/image_LTBt3VVcVj.png",m="/image/fdd34aa9637c23152b727b2e8a38fe4_T-Ehl_-Eaz.png",b="/image/6fc96c84c27f38e38d3f4edcd84c76b_cvw8OR1Na_.png",h="/image/image_1uY2levIO6.png",g="/image/image_-HjRyLM9mJ.png",y={},f=p('<h2 id="é¡¹ç›®æè¿°" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®æè¿°" aria-hidden="true">#</a> é¡¹ç›®æè¿°</h2><h3 id="æŠ€æœ¯è·¯çº¿" tabindex="-1"><a class="header-anchor" href="#æŠ€æœ¯è·¯çº¿" aria-hidden="true">#</a> æŠ€æœ¯è·¯çº¿</h3><p>éƒ¨ç½²ï¼šApache2 Gevent</p><p>æ•°æ®åº“ï¼šMySQL Flask</p><p>å‰ç«¯ï¼šhtml+css+js</p><p>åœ°å›¾ï¼šleafLet</p><p>ç‰©è”ç½‘ï¼šåä¸ºäº‘IotDA MQTTåè®®</p><p>ä½ä»£ç ï¼šåä¸ºäº‘Astro</p><h3 id="ç­”è¾©å‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#ç­”è¾©å‡†å¤‡" aria-hidden="true">#</a> ç­”è¾©å‡†å¤‡</h3><p>è®¾è®¡AIåŠå¯¼å‘˜ï¼Œè¾…åŠ©äº¤è­¦å·¥ä½œã€‚</p><p>5åˆ†é’Ÿæ¼”ç¤ºã€‚é‡ç‚¹çªå‡ºæµ·æ€çš„åº”ç”¨ã€‚</p><p>æµ·æ€3861ï¼šç‰©è”ç½‘ã€é€šä¿¡</p><p>æµ·æ€3516ï¼šAIæ£€æµ‹ã€æ’­æ”¾è¯­éŸ³ã€æ§åˆ¶äº®ç¯</p><p>æœåŠ¡å™¨ã€ç½‘é¡µã€APP</p><p>èƒŒæ™¯</p><p>æ­å»ºå¥½çš„åœºæ™¯+éƒ¨ä»¶é€ä¸ªè®²è§£</p><p>å®ç‰©æ¼”ç¤ºï¼ˆAPPåŒæ­¥å…±äº«å±å¹•ï¼‰+web&amp;æœåŠ¡å™¨ï¼ˆå…±äº«å±å¹•ï¼‰</p><p>è¯­éŸ³æ’­æŠ¥é—®é¢˜ï¼šä¸“ç”¨è€³æœºï¼Ÿ</p><h2 id="ğŸ¤–å¼€å‘è®°å½•" tabindex="-1"><a class="header-anchor" href="#ğŸ¤–å¼€å‘è®°å½•" aria-hidden="true">#</a> ğŸ¤–å¼€å‘è®°å½•</h2><h3 id="astroä¸šåŠ¡å¤§å±" tabindex="-1"><a class="header-anchor" href="#astroä¸šåŠ¡å¤§å±" aria-hidden="true">#</a> Astroä¸šåŠ¡å¤§å±</h3>',20),_={href:"https://support.huaweicloud.com/usermanualcanvas-astrozero/astrozero_05_6000.html",title:"å›¾è§£Astroå¤§å±åº”ç”¨_Astroè½»åº”ç”¨ AstroZero_ç”¨æˆ·æŒ‡å—ï¼ˆAstroå¤§å±åº”ç”¨ï¼‰_åä¸ºäº‘ (huaweicloud.com)",target:"_blank",rel:"noopener noreferrer"},w=p(`<p>MySQLä¸€æ¡sqlè¯­å¥æŸ¥å‡ºè¡¨ä¸­ä¸åŒå­—æ®µï¼ˆåˆ—ï¼‰çš„æ•°é‡</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span> <span class="token keyword">DISTINCT</span> address <span class="token punctuation">)</span> è·¯å£æ•°é‡ <span class="token keyword">from</span> road_record
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+u+`" alt=""></p><p>MySQL ç»Ÿè®¡åŒä¸€å­—æ®µä¸åŒå€¼çš„ä¸ªæ•°</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> address<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> num <span class="token keyword">FROM</span> road_record <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> address<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+r+`" alt=""></p><p>MySQLå»é‡åŒä¸€åˆ—çš„é‡å¤æ•°æ®</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">distinct</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span> <span class="token keyword">from</span> road_record
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+d+`" alt=""></p><p>MySQLå€’åºæŸ¥è¯¢</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> color <span class="token keyword">from</span> light_color <span class="token keyword">order</span> <span class="token keyword">by</span> color_id <span class="token keyword">desc</span> <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ—¶é—´å¤„ç†</p>`,12),T={href:"https://blog.csdn.net/hu1010037197/article/details/115391335",title:"(4æ¡æ¶ˆæ¯) MySQLæ—¥æœŸæ—¶é—´æ“ä½œå‡½æ•°ï¼ˆæŒºå…¨çš„ï¼‰_mysqlæ—¥æœŸå‡½æ•°_HaleyTigerçš„åšå®¢-CSDNåšå®¢",target:"_blank",rel:"noopener noreferrer"},E=p(`<div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> EXTRACT<span class="token punctuation">(</span><span class="token keyword">DAY</span> <span class="token keyword">FROM</span> <span class="token keyword">time</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> num <span class="token keyword">from</span> road_record <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> EXTRACT<span class="token punctuation">(</span><span class="token keyword">DAY</span> <span class="token keyword">FROM</span> <span class="token keyword">time</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="åœ°å›¾è¡¥å……ç±»ä¼¼çƒ­åŠ›å›¾åŠŸèƒ½-è¿è§„è®°å½•è¶Šå¤š-åŒºåŸŸé¢œè‰²è¶Šæ·±" tabindex="-1"><a class="header-anchor" href="#åœ°å›¾è¡¥å……ç±»ä¼¼çƒ­åŠ›å›¾åŠŸèƒ½-è¿è§„è®°å½•è¶Šå¤š-åŒºåŸŸé¢œè‰²è¶Šæ·±" aria-hidden="true">#</a> åœ°å›¾è¡¥å……ç±»ä¼¼çƒ­åŠ›å›¾åŠŸèƒ½ï¼ˆè¿è§„è®°å½•è¶Šå¤š åŒºåŸŸé¢œè‰²è¶Šæ·±ï¼‰</h3>`,2),q={href:"https://leafletjs.com/examples/choropleth/",title:" Interactive Choropleth Map - Leaflet - a JavaScript library for interactive maps  https://leafletjs.com/examples/choropleth/",target:"_blank",rel:"noopener noreferrer"},N=p('<p><img src="'+k+'" alt=""></p><p>æœ€ç»ˆæ•ˆæœ</p><p><img src="'+v+'" alt=""></p><h3 id="å±•ç¤ºçº¢ç»¿ç¯çŠ¶æ€-äº®ç¯" tabindex="-1"><a class="header-anchor" href="#å±•ç¤ºçº¢ç»¿ç¯çŠ¶æ€-äº®ç¯" aria-hidden="true">#</a> å±•ç¤ºçº¢ç»¿ç¯çŠ¶æ€ï¼ˆäº®ç¯ï¼‰</h3><ol><li>æ¿å­ä¸Šä¼ æ•°æ®è‡³ç‰©è”ç½‘äº‘å¹³å°ï¼Œç‰©è”ç½‘äº‘å¹³å°è½¬å‘ä¿¡æ¯è‡³æœåŠ¡å™¨</li><li>æœåŠ¡å™¨æ¥æ”¶æ•°æ®ï¼Œæ’å…¥æ•°æ®åº“</li><li>ç½‘é¡µè·å–æ•°æ®åº“æœ€æ–°ä¿¡æ¯</li></ol><h4 id="æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“" aria-hidden="true">#</a> æ•°æ®åº“</h4><p>åˆ›å»ºæ•°æ®è¡¨å‘½ä»¤</p><p><img src="'+t+'" alt=""></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>light<span class="token punctuation">`</span></span><span class="token punctuation">(</span> <span class="token comment">// æœªä½¿ç”¨</span>\n    <span class="token identifier"><span class="token punctuation">`</span>light_id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>state<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>second<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span> <span class="token identifier"><span class="token punctuation">`</span>light_id<span class="token punctuation">`</span></span> <span class="token punctuation">)</span>\n <span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>\n \n <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>light_color<span class="token punctuation">`</span></span><span class="token punctuation">(</span>\n    <span class="token identifier"><span class="token punctuation">`</span>color_id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>color<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span> <span class="token identifier"><span class="token punctuation">`</span>color_id<span class="token punctuation">`</span></span> <span class="token punctuation">)</span>\n <span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ•°æ®è¡¨åˆ—è¡¨</p><p><img src="'+m+'" alt=""></p><p><img src="'+b+`" alt=""></p><h4 id="æœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡å™¨" aria-hidden="true">#</a> æœåŠ¡å™¨</h4><p><code>client.on(&#39;message&#39;, function (topic, message) { }</code></p><p><strong>æœåŠ¡å™¨</strong>æŒç»­æ¥æ”¶<strong>ç‰©è”ç½‘äº‘å¹³å°</strong>å‘½ä»¤ï¼Œæ¥æ”¶åç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œå°†æ•°æ®æ’å…¥mysqlâ†’trafficâ†’light</p><p>éœ€æ£€éªŒï¼šmessageçš„è§£æ</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// å‘½ä»¤ä¸‹å‘å“åº”(æ¥æ”¶çº¢ç»¿ç¯çŠ¶æ€)</span>
client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">topic<span class="token punctuation">,</span> message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;received message is &#39;</span> <span class="token operator">+</span> message<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> jsonMsg <span class="token operator">=</span> responseReq<span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token function">getResponseTopic</span><span class="token punctuation">(</span>topic<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> jsonMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;responsed message is &#39;</span> <span class="token operator">+</span> jsonMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>



    <span class="token comment">// æ ¹æ®messageè§£æå‡ºstateï¼ˆçº¢ç»¿ç¯çŠ¶æ€ï¼‰å’Œsecondï¼ˆçŠ¶æ€å‰©ä½™ç§’æ•°ï¼‰</span>
    <span class="token keyword">var</span> paras <span class="token operator">=</span> message<span class="token punctuation">[</span><span class="token string">&#39;paras&#39;</span><span class="token punctuation">]</span>
    <span class="token keyword">var</span> state <span class="token operator">=</span> paras<span class="token punctuation">[</span><span class="token string">&#39;state&#39;</span><span class="token punctuation">]</span>
    <span class="token keyword">var</span> second <span class="token operator">=</span> paras<span class="token punctuation">[</span><span class="token string">&#39;second&#39;</span><span class="token punctuation">]</span>


    pool<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> connection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            connection<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">var</span> addSql <span class="token operator">=</span> <span class="token string">&#39;INSERT INTO light_record(state, second) VALUES(?,?)&#39;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> addSqlParams <span class="token operator">=</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> second<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//å¢</span>
        connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>addSql<span class="token punctuation">,</span> addSqlParams<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;[INSERT ERROR] - &#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;--------------------------INSERT----------------------------&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//console.log(&#39;INSERT ID:&#39;,result.insertId);        </span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;INSERT ID:&#39;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;-----------------------------------------------------------------\\n\\n&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        connection<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¦‚ä½•æ·»åŠ åŒæ—¶å¸¦ç«¯å£å’Œè·¯å¾„çš„åœ°å€" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•æ·»åŠ åŒæ—¶å¸¦ç«¯å£å’Œè·¯å¾„çš„åœ°å€" aria-hidden="true">#</a> å¦‚ä½•æ·»åŠ åŒæ—¶å¸¦ç«¯å£å’Œè·¯å¾„çš„åœ°å€ï¼Ÿ</h3>`,18),R={href:"http://123.60.185.153/map.html",title:"http://123.60.185.153:8089",target:"_blank",rel:"noopener noreferrer"},x=p(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> render_template <span class="token punctuation">,</span>jsonify<span class="token punctuation">,</span> make_response
<span class="token keyword">from</span> gevent <span class="token keyword">import</span> pywsgi <span class="token comment"># pywsgi: flaskå¼€å‘ç¯å¢ƒè½¬ç”Ÿäº§ç¯å¢ƒ</span>

app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">&#39;JSON_SORT_KEYS&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">&#39;JSONIFY_MIMETYPE&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;application/json&#39;</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    <span class="token comment"># app.run(host=&#39;0.0.0.0&#39;, port=8089)</span>
    server <span class="token operator">=</span> pywsgi<span class="token punctuation">.</span>WSGIServer<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&#39;0.0.0.0&#39;</span><span class="token punctuation">,</span> <span class="token number">8089</span><span class="token punctuation">)</span><span class="token punctuation">,</span> app<span class="token punctuation">)</span>
    server<span class="token punctuation">.</span>serve_forever<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),S={href:"http://123.60.185.153/map.html",title:"http://123.60.185.153:8089/",target:"_blank",rel:"noopener noreferrer"},A=p(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&#39;/&lt;address&gt;/&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment"># æŸ¥è¯¢æ•°æ®</span>
  results <span class="token operator">=</span> query_db<span class="token punctuation">(</span><span class="token string">&#39;SELECT time FROM road_record WHERE address = &quot;&#39;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;&quot;;&#39;</span><span class="token punctuation">)</span>
<span class="token comment"># ç»Ÿè®¡æ¯ä¸ªæ—¶é—´æ®µï¼ˆå››ä¸ªå°æ—¶ï¼‰çš„è®°å½•æ•°</span>
  counts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">for</span> row <span class="token keyword">in</span> results<span class="token punctuation">:</span>
    time <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    hour <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&#39;:&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">4</span>
    data <span class="token operator">=</span> time<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    key <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&#39;</span><span class="token interpolation"><span class="token punctuation">{</span>data<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>hour<span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token format-spec">02d</span><span class="token punctuation">}</span></span><span class="token string">:00--</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token punctuation">(</span>hour<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token format-spec">02d</span><span class="token punctuation">}</span></span><span class="token string">:00&#39;</span></span>
    counts<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> counts<span class="token punctuation">.</span>get<span class="token punctuation">(</span>key <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
<span class="token comment"># å°†æ•°æ®è½¬æ¢ä¸ºå­—å…¸åˆ—è¡¨</span>
  data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> key <span class="token punctuation">,</span> count <span class="token keyword">in</span> counts<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    data<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string">&#39;time&#39;</span><span class="token punctuation">:</span>key <span class="token punctuation">,</span>
      <span class="token string">&#39;count&#39;</span><span class="token punctuation">:</span>count
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment"># if not data:</span>
<span class="token comment">#   return &quot;No data acailable&quot;</span>
<span class="token comment"># æ¸²æŸ“æ¨¡æ¿</span>
  <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">&#39;index.html&#39;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),I={href:"http://123.60.185.153/map.html",title:"http://123.60.185.153:8089/",target:"_blank",rel:"noopener noreferrer"},L=p(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&#39;/&lt;address&gt;/data/&#39;</span><span class="token punctuation">)</span>
<span class="token comment"># @app.route(&#39;/data&#39;)</span>
<span class="token keyword">def</span> <span class="token function">data</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment"># def data():</span>
  <span class="token comment"># æŸ¥è¯¢æ•°æ®</span>
  <span class="token comment"># results = query_db(&quot;SELECT time FROM road;&quot;)</span>
  results <span class="token operator">=</span> query_db<span class="token punctuation">(</span><span class="token string">&#39;SELECT time FROM road_record WHERE address = &quot;&#39;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;&quot;;&#39;</span><span class="token punctuation">)</span>
  <span class="token comment"># ç»Ÿè®¡æ¯ä¸ªæ—¶é—´æ®µï¼ˆå››ä¸ªå°æ—¶ï¼‰çš„è®°å½•æ•°</span>
  counts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">for</span> row <span class="token keyword">in</span> results<span class="token punctuation">:</span>
    time <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    hour <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&#39;:&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">4</span>
    data <span class="token operator">=</span> time<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    key <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&#39;</span><span class="token interpolation"><span class="token punctuation">{</span>data<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>hour<span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token format-spec">02d</span><span class="token punctuation">}</span></span><span class="token string">:00--</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token punctuation">(</span>hour<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token format-spec">02d</span><span class="token punctuation">}</span></span><span class="token string">:00&#39;</span></span>
    counts<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> counts<span class="token punctuation">.</span>get<span class="token punctuation">(</span>key <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
<span class="token comment"># å°†æ•°æ®è½¬æ¢ä¸ºå­—å…¸åˆ—è¡¨</span>
  data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> key <span class="token punctuation">,</span> count <span class="token keyword">in</span> counts<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    data<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string">&#39;time&#39;</span><span class="token punctuation">:</span>key <span class="token punctuation">,</span>
      <span class="token string">&#39;count&#39;</span><span class="token punctuation">:</span>count
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  
  response <span class="token operator">=</span> make_response<span class="token punctuation">(</span>jsonify<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
      
  <span class="token keyword">if</span> <span class="token keyword">not</span> data<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">&quot;No data acailable&quot;</span>
  <span class="token comment"># response.headers[&#39;Content-Type&#39;]=&#39;application/json&#39;</span>
  <span class="token keyword">return</span> response
  <span class="token comment"># return render_template(&#39;index.html&#39;, data=data)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¦‚ä½•åˆ†è¾¨è·¯å¾„" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•åˆ†è¾¨è·¯å¾„" aria-hidden="true">#</a> å¦‚ä½•åˆ†è¾¨è·¯å¾„ï¼Ÿ</h3><p>åœ¨jsä¸­åˆ©ç”¨window.location.hrefè·å¾—å½“å‰è·¯å¾„ï¼Œsplitæ–¹æ³•åˆ†ç¦»å‡ºå½“å‰address</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>url <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>
<span class="token operator">//</span> url <span class="token operator">=</span> <span class="token string">&quot;http://123.60.185.153:8089/Xiangan%20Street/&quot;</span>
var address <span class="token operator">=</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token operator">//</span> address <span class="token operator">=</span> <span class="token string">&quot;Xiangan%20Street&quot;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¦‚ä½•å°†å½“å‰è·¯å¾„ä¸æ•°æ®åº“æŸ¥è¯¢æ¥å£ç»“åˆ-select-street-name" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•å°†å½“å‰è·¯å¾„ä¸æ•°æ®åº“æŸ¥è¯¢æ¥å£ç»“åˆ-select-street-name" aria-hidden="true">#</a> å¦‚ä½•å°†å½“å‰è·¯å¾„ä¸æ•°æ®åº“æŸ¥è¯¢æ¥å£ç»“åˆï¼Ÿï¼ˆselect street_nameï¼‰</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>results <span class="token operator">=</span> query_db<span class="token punctuation">(</span><span class="token string">&#39;SELECT time FROM road_record WHERE address = &quot;&#39;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;&quot;;&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="ğŸdebugè®°å½•" tabindex="-1"><a class="header-anchor" href="#ğŸdebugè®°å½•" aria-hidden="true">#</a> ğŸdebugè®°å½•</h2><h3 id="vscodeè¿œç¨‹è¿æ¥" tabindex="-1"><a class="header-anchor" href="#vscodeè¿œç¨‹è¿æ¥" aria-hidden="true">#</a> vscodeè¿œç¨‹è¿æ¥</h3><p>å®‰è£…æ’ä»¶Remote - SSH</p><p>ç™»å½•æ—¶æ³¨æ„æ ¼å¼ä¸º username@ipï¼Œç›´æ¥ç”¨ipæ— æ³•è¿›å…¥</p><p>ç‚¹å‡»vscodeä¸­çš„â€œæ‰“å¼€æ–‡ä»¶å¤¹â€ï¼Œå³å¯å¼€å§‹ç¼–è¾‘ä»£ç </p><h3 id="åœ°å›¾æ— æ³•æ˜¾ç¤º" tabindex="-1"><a class="header-anchor" href="#åœ°å›¾æ— æ³•æ˜¾ç¤º" aria-hidden="true">#</a> åœ°å›¾æ— æ³•æ˜¾ç¤º</h3><p>åœ°å›¾æ•°æ®æ˜¯å¤–ç½‘çš„ï¼Œå®¢æˆ·ç«¯éœ€è¦æ›´æ”¹ipåœ°å€</p><h3 id="åœ°å›¾æ˜¾ç¤ºä¸è¦†ç›–é¡µé¢" tabindex="-1"><a class="header-anchor" href="#åœ°å›¾æ˜¾ç¤ºä¸è¦†ç›–é¡µé¢" aria-hidden="true">#</a> åœ°å›¾æ˜¾ç¤ºä¸è¦†ç›–é¡µé¢</h3><p>cssä¿®æ”¹å°ºå¯¸ä¸º100vh</p><h3 id="å·²å¼€æ”¾ç«¯å£8089-ä½†åŠ è½½ä¸æˆåŠŸ" tabindex="-1"><a class="header-anchor" href="#å·²å¼€æ”¾ç«¯å£8089-ä½†åŠ è½½ä¸æˆåŠŸ" aria-hidden="true">#</a> å·²å¼€æ”¾ç«¯å£8089ï¼Œä½†åŠ è½½ä¸æˆåŠŸ</h3><p>flaskå¯¹åº”pyæ–‡ä»¶æœªè¿è¡Œï¼Œä½¿ç”¨screenåå°è¿è¡Œå³å¯</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">screen</span> <span class="token parameter variable">-S</span> screen_name
python app.py
Ctrl-A Ctrl-D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¡¥å……ï¼šscreenå¯èƒ½å‘ç”Ÿè¿è¡Œæ—¶é—´ä¸é•¿çš„æƒ…å†µï¼Œæ”¹ç”¨docker</p>`,19),M={href:"https://www.runoob.com/docker/docker-container-usage.html",title:"Docker å®¹å™¨ä½¿ç”¨ | èœé¸Ÿæ•™ç¨‹ (runoob.com)",target:"_blank",rel:"noopener noreferrer"},C={href:"https://blog.csdn.net/weixin_37773766/article/details/80702926",title:"(1æ¡æ¶ˆæ¯) dockeråŸºç¡€çŸ¥è¯†ä¹‹æŒ‚è½½æœ¬åœ°ç›®å½•_docker æŒ‚è½½ç›®å½•__ä¸–çºªæœ«çš„é­”æœ¯å¸ˆ_çš„åšå®¢-CSDNåšå®¢",target:"_blank",rel:"noopener noreferrer"},O=p(`<p>dockerå¯ä»¥æ”¯æŒæŠŠä¸€ä¸ªå®¿ä¸»æœºä¸Šçš„ç›®å½•æŒ‚è½½åˆ°é•œåƒé‡Œã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">-v</span> /home/dock/Downloads:/usr/Downloads ubuntu64 /bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é€šè¿‡-vå‚æ•°ï¼Œå†’å·å‰ä¸ºå®¿ä¸»æœºç›®å½•ï¼Œå¿…é¡»ä¸ºç»å¯¹è·¯å¾„ï¼Œå†’å·åä¸ºé•œåƒå†…æŒ‚è½½çš„è·¯å¾„ã€‚</p><h3 id="è·å–æ•°æ®çš„api-dataä¸æˆåŠŸ-500æŠ¥é”™" tabindex="-1"><a class="header-anchor" href="#è·å–æ•°æ®çš„api-dataä¸æˆåŠŸ-500æŠ¥é”™" aria-hidden="true">#</a> è·å–æ•°æ®çš„api dataä¸æˆåŠŸï¼Œ500æŠ¥é”™</h3><p>æŸ¥çœ‹æŠ¥é”™ï¼Œå¤§æ„ä¸ºæ‰¾ä¸åˆ°è¡¨road</p><p>æŸ¥çœ‹mysqlåå‘ç°æ˜¯mqsqlæŒ‡ä»¤ä¸­è¡¨çš„åå­—é”™è¯¯ï¼Œæ”¹ä¸ºroad_record</p><h3 id="flaskè·å–çš„mysqlæ•°æ®åº“æ•°æ®ä¸æ˜¯æœ€æ–°çš„" tabindex="-1"><a class="header-anchor" href="#flaskè·å–çš„mysqlæ•°æ®åº“æ•°æ®ä¸æ˜¯æœ€æ–°çš„" aria-hidden="true">#</a> Flaskè·å–çš„mysqlæ•°æ®åº“æ•°æ®ä¸æ˜¯æœ€æ–°çš„</h3>`,7),D={href:"https://flask.net.cn/deploying/wsgi-standalone.html",title:"ç‹¬ç«‹ WSGI å®¹å™¨_Flaskä¸­æ–‡ç½‘",target:"_blank",rel:"noopener noreferrer"},U=p(`<li><p>åœ¨ä½ çš„ä»£ç ä¸­ï¼Œ<code>query_db</code> å‡½æ•°æ‰§è¡ŒæŸ¥è¯¢æ•°æ®åº“çš„æ“ä½œã€‚ç„¶è€Œï¼Œåœ¨æ¯ä¸ªè·¯ç”±å¤„ç†å‡½æ•°ä¸­ï¼Œä½ è°ƒç”¨äº† <code>query_db</code> å‡½æ•°æ¥è·å–æ•°æ®ï¼Œä½†æ˜¯æ²¡æœ‰æ˜¾å¼åœ°æäº¤æ•°æ®åº“çš„æ›´æ”¹ã€‚</p><p>å¦‚æœä½ åœ¨æŸ¥è¯¢ä¹‹ååšå‡ºäº†æ›´æ”¹ï¼ˆä¾‹å¦‚æ’å…¥ã€æ›´æ–°æˆ–åˆ é™¤æ“ä½œï¼‰ï¼Œé‚£ä¹ˆåº”è¯¥è°ƒç”¨ <code>db.commit()</code> æ¥æäº¤æ›´æ”¹ï¼Œä»¥ç¡®ä¿ä¸‹ä¸€æ¬¡æŸ¥è¯¢è·å–åˆ°çš„æ˜¯æœ€æ–°çš„æ•°æ®ã€‚</p><p>ä¿®æ”¹ä½ çš„ä»£ç ï¼Œåœ¨æ¯ä¸ªè·¯ç”±å¤„ç†å‡½æ•°ä¸­ï¼Œåœ¨è·å–æ•°æ®ä¹‹åæ·»åŠ  <code>db.commit()</code>ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&#39;/&lt;address&gt;/&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># æŸ¥è¯¢æ•°æ®</span>
    results <span class="token operator">=</span> query_db<span class="token punctuation">(</span><span class="token string">&#39;SELECT * FROM road_record WHERE address = &quot;&#39;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;&quot; order by Time_id desc limit 10;&#39;</span><span class="token punctuation">)</span>

    <span class="token comment"># ... å…¶ä»–å¤„ç†é€»è¾‘</span>

    db<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># æäº¤æ›´æ”¹</span>

    <span class="token comment"># æ¸²æŸ“æ¨¡æ¿ä»¥åŠè¿”å›ç»“æœ</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è·å–æ•°æ®æ”¹ä¸ºå¼‚æ­¥æ–¹æ³•ï¼Œåœ¨plot.jsä¸­æ‰‹åŠ¨æŒ‰ç§’æŒç»­è¿›è¡Œæ›´æ–°</p></li><li><p>è¿è¡Œapp.pyæ–‡ä»¶</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>python app.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li>`,3),F=n("h3",{id:"ç‰©è”ç½‘å¹³å°iotda",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ç‰©è”ç½‘å¹³å°iotda","aria-hidden":"true"},"#"),s(" ç‰©è”ç½‘å¹³å°IoTDA")],-1),j=n("p",null,"å°†æœåŠ¡å™¨æ•°æ®ä¼ åˆ°ç‰©è”ç½‘å¹³å°",-1),H={href:"https://www.bilibili.com/video/BV1Md4y1v7m5/?share_source=copy_web&vd_source=ae116ba1453d272bfc648f15df41bed0",title:"https://www.bilibili.com/video/BV1Md4y1v7m5/?share_source=copy_web&vd_source=ae116ba1453d272bfc648f15df41bed0",target:"_blank",rel:"noopener noreferrer"},Y={href:"https://support.huaweicloud.com/devg-iothub/iot_02_2133.html",title:"Node.js Demoä½¿ç”¨è¯´æ˜_è®¾å¤‡æ¥å…¥ IoTDA_å¼€å‘æŒ‡å—_è®¾å¤‡ä¾§å¼€å‘_ä½¿ç”¨MQTT Demoæ¥å…¥_åä¸ºäº‘ (huaweicloud.com)",target:"_blank",rel:"noopener noreferrer"},B=p('<h4 id="å®ç°æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#å®ç°æ–¹æ³•" aria-hidden="true">#</a> å®ç°æ–¹æ³•</h4><ol><li>ç‰©è”ç½‘å¹³å°æ“ä½œ</li></ol><p>å…ˆåœ¨ç‰©è”ç½‘å¹³å°ä¸Šåˆ›å»ºäº§å“ï¼Œç„¶åå®šä¹‰æ¨¡å‹ï¼Œå†æ·»åŠ æœåŠ¡ã€‚</p><p>æœåŠ¡ä¸‹é¢æœ‰å±æ€§å’Œå‘½ä»¤ã€‚å±æ€§ç”¨äºè®¾å¤‡ä¾§ä¸Šä¼ ï¼Œè®¾ç½®äº†ä¸æ•°æ®åº“ä¸€æ ·çš„ä¿¡æ¯æ ¼å¼ï¼ˆå«state:stringï¼‰ã€‚</p><p><img src="'+t+`" alt=""></p><ol><li>æœåŠ¡å™¨æ“ä½œ</li></ol><p>æ•°æ®åº“æ²¡æ‰¾åˆ°ç›‘æ§æ–¹æ³•ï¼Œç›®å‰ä½¿ç”¨å¼‚æ­¥æ–¹æ³•æ¯ä¸¤ç§’æŸ¥è¯¢ä¸€æ¬¡ï¼Œå¦‚æœä¿¡æ¯æ”¹å˜å°±ç”¨å®˜æ–¹çš„mqtt nodejsä»£ç å°†æœ€æ–°ä¿¡æ¯ä¸ŠæŠ¥ç‰©è”ç½‘å¹³å°ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;connect&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;connect to mqtt server success, deviceId is &quot;</span> <span class="token operator">+</span> deviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    client<span class="token punctuation">.</span>options<span class="token punctuation">.</span>reconnectPeriod <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>

    retryTimes <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">//è®¢é˜…Topic</span>
    <span class="token function">subScribeTopic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token keyword">var</span> last_result<span class="token punctuation">;</span>
<span class="token keyword">var</span> new_result<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">queryAndReport</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pool<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> connection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            connection<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">//å‘é€æœ€æ–°çš„è®°å½•</span>
        <span class="token keyword">var</span> sql <span class="token operator">=</span> <span class="token string">&#39;SELECT * FROM road_record order by  time desc limit 1&#39;</span><span class="token punctuation">;</span>
        connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;[SELECT ERROR] - &#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
          
            new_result <span class="token operator">=</span> result<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>new_result<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>last_result<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;result change!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> propertiesReportJson <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string-property property">&#39;services&#39;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string-property property">&#39;properties&#39;</span><span class="token operator">:</span>new_result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string-property property">&#39;service_id&#39;</span><span class="token operator">:</span><span class="token string">&#39;servertest&#39;</span><span class="token punctuation">,</span><span class="token string-property property">&#39;event_time&#39;</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> propertiesReport <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>propertiesReportJson<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token function">publishMessage</span><span class="token punctuation">(</span>propertiesReport<span class="token punctuation">)</span><span class="token punctuation">;</span>
                
                connection<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                last_result <span class="token operator">=</span> new_result<span class="token punctuation">;</span>

                <span class="token comment">//æŸ¥è¯¢æˆåŠŸåï¼Œåœ¨è¿™é‡Œè®¾ç½®ä¸€ä¸ªtimeoutï¼Œ2ç§’åå†æ¬¡æŸ¥è¯¢å’Œä¸ŠæŠ¥</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span>queryAndReport<span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;result not change!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                connection<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">//æŸ¥è¯¢ç»“æœæ²¡æœ‰å˜åŒ–ï¼Œ2ç§’åå†æ¬¡æŸ¥è¯¢å’Œä¸ŠæŠ¥</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span>queryAndReport<span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// connection.release();</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç¬¬ä¸€æ¬¡æŸ¥è¯¢å’Œä¸ŠæŠ¥</span>
<span class="token function">queryAndReport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æœ€ç»ˆæ•ˆæœ" tabindex="-1"><a class="header-anchor" href="#æœ€ç»ˆæ•ˆæœ" aria-hidden="true">#</a> æœ€ç»ˆæ•ˆæœ</h4><p><img src="`+h+'" alt=""></p><h3 id="mysqlæ•°æ®åº“å»ºåº“å¤±è´¥" tabindex="-1"><a class="header-anchor" href="#mysqlæ•°æ®åº“å»ºåº“å¤±è´¥" aria-hidden="true">#</a> mysqlæ•°æ®åº“å»ºåº“å¤±è´¥</h3>',11),G={href:"https://zhuanlan.zhihu.com/p/610793026",title:"åœ¨ Ubuntu ä¸Šå®‰è£…å’Œé…ç½® MySQL ä¿å§†çº§æ•™ç¨‹ - çŸ¥ä¹ (zhihu.com)",target:"_blank",rel:"noopener noreferrer"},V=p(`<h4 id="mysqlæ•°æ®åº“æœ€é«˜æƒé™ç”¨æˆ·å¤±æ•ˆ" tabindex="-1"><a class="header-anchor" href="#mysqlæ•°æ®åº“æœ€é«˜æƒé™ç”¨æˆ·å¤±æ•ˆ" aria-hidden="true">#</a> mysqlæ•°æ®åº“æœ€é«˜æƒé™ç”¨æˆ·å¤±æ•ˆ</h4><p>åœæ­¢å·²ç»è¿è¡Œçš„ MySQL è¿›ç¨‹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">service</span> mysql stop

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ä¸­ä»¥ <code>--skip-grant-tables</code> é€‰é¡¹å¯åŠ¨ MySQL æœåŠ¡å™¨ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> mysqld_safe --skip-grant-tables <span class="token operator">&amp;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿æ¥åˆ° MySQL æœåŠ¡å™¨ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql <span class="token parameter variable">-u</span> root

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿›å…¥mysqlæ•°æ®åº“çš„useræ•°æ®è¡¨ï¼Œä¿®æ”¹rootç”¨æˆ·çš„è‹¥å¹²æƒé™ä¸ºY</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>use mysql<span class="token punctuation">;</span>
UPDATE user SET <span class="token assign-left variable">Grant_priv</span><span class="token operator">=</span><span class="token string">&#39;Y&#39;</span>, <span class="token assign-left variable">Super_priv</span><span class="token operator">=</span><span class="token string">&#39;Y&#39;</span> WHERE <span class="token assign-left variable">User</span><span class="token operator">=</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="mysqld-safe-directory-var-run-mysqld-for-unix-socket-file-don-t-exists" tabindex="-1"><a class="header-anchor" href="#mysqld-safe-directory-var-run-mysqld-for-unix-socket-file-don-t-exists" aria-hidden="true">#</a> mysqld_safe Directory &#39;/var/run/mysqld&#39; for UNIX socket file don&#39;t exists.</h4><p>æ‰‹åŠ¨åˆ›å»ºè¯¥ç›®å½•å¹¶èµ‹äºˆé€‚å½“çš„æƒé™ï¼Œç„¶åå†æ¬¡å°è¯•å¯åŠ¨ <code>mysqld_safe</code> è¿›ç¨‹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /var/run/mysqld
<span class="token function">sudo</span> <span class="token function">chown</span> mysql:mysql /var/run/mysqld

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åï¼Œé‡æ–°è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨ <code>mysqld_safe</code> è¿›ç¨‹ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> mysqld_safe --skip-grant-tables <span class="token operator">&amp;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ˜¾ç¤ºå¦‚ä¸‹åˆ™å¯åŠ¨æˆåŠŸ</p><p><img src="`+g+'" alt=""></p><h4 id="åœæ­¢mysqlæœåŠ¡åé‡å¯-ä»mysqld-safe-a-mysqld-process-already-exists" tabindex="-1"><a class="header-anchor" href="#åœæ­¢mysqlæœåŠ¡åé‡å¯-ä»mysqld-safe-a-mysqld-process-already-exists" aria-hidden="true">#</a> åœæ­¢mysqlæœåŠ¡åé‡å¯ï¼Œä»mysqld_safe A mysqld process already exists</h4><p>æŸ¥è¯¢mysqlç›¸å…³è¿›ç¨‹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">grep</span> mysql\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœæ­¢è¿›ç¨‹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">kill</span> <span class="token parameter variable">-9</span> <span class="token number">37260</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="æ‰€éœ€æ•°æ®åº“åŠè¡¨" tabindex="-1"><a class="header-anchor" href="#æ‰€éœ€æ•°æ®åº“åŠè¡¨" aria-hidden="true">#</a> æ‰€éœ€æ•°æ®åº“åŠè¡¨</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>light<span class="token punctuation">`</span></span><span class="token punctuation">(</span> <span class="token comment">// æœªä½¿ç”¨</span>\n    <span class="token identifier"><span class="token punctuation">`</span>light_id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>state<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>second<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span> <span class="token identifier"><span class="token punctuation">`</span>light_id<span class="token punctuation">`</span></span> <span class="token punctuation">)</span>\n <span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>\n \n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>device_record<span class="token punctuation">`</span></span><span class="token punctuation">(</span>\n    <span class="token identifier"><span class="token punctuation">`</span>Time_id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>Time<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>  <span class="token keyword">COMMENT</span> <span class="token string">&#39;times&#39;</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>address<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>  <span class="token keyword">COMMENT</span> <span class="token string">&#39;place &#39;</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>fig_name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>  <span class="token keyword">COMMENT</span> <span class="token string">&#39;figure name&#39;</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>state<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>Time_id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n <span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>\n \n <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>road_record<span class="token punctuation">`</span></span><span class="token punctuation">(</span>\n    <span class="token identifier"><span class="token punctuation">`</span>Time_id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>Time<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>  <span class="token keyword">COMMENT</span> <span class="token string">&#39;times&#39;</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>address<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>  <span class="token keyword">COMMENT</span> <span class="token string">&#39;place &#39;</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>fig_name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>  <span class="token keyword">COMMENT</span> <span class="token string">&#39;figure name&#39;</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>state<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>Time_id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n <span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>\n \n <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>light_color<span class="token punctuation">`</span></span><span class="token punctuation">(</span>\n    <span class="token identifier"><span class="token punctuation">`</span>color_id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>\n    <span class="token identifier"><span class="token punctuation">`</span>color<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span> <span class="token identifier"><span class="token punctuation">`</span>color_id<span class="token punctuation">`</span></span> <span class="token punctuation">)</span>\n <span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¿è¡Œç¨³å®šæ€§é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#è¿è¡Œç¨³å®šæ€§é—®é¢˜" aria-hidden="true">#</a> è¿è¡Œç¨³å®šæ€§é—®é¢˜</h3><p>ä½¿ç”¨screenåœ¨åå°è¿è¡Œï¼Œè¿‡ä¸€æ®µæ—¶é—´è¿è¡Œä¼šæŠ¥é”™ã€‚åŸå› æ˜¯æ²¡æœ‰ç›‘æµ‹æ•°æ®åº“æ˜¯å¦è¿æ¥ã€é‡è¿æ•°æ®åº“ï¼Œæ•°æ®åº“æ“ä½œå¤šäº†å°±ä¼šå¤±å»è¿æ¥ï¼Œä¿®æ”¹app.pyä¸­çš„dbéƒ¨åˆ†å†…å®¹å³å¯ã€‚</p><h2 id="ğŸ‘¾æœªè§£å†³é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#ğŸ‘¾æœªè§£å†³é—®é¢˜" aria-hidden="true">#</a> ğŸ‘¾æœªè§£å†³é—®é¢˜</h2><h3 id="åœ°å›¾å›¾æ ‡å®æ—¶æ”¹å˜-çº¢ç»¿ç¯" tabindex="-1"><a class="header-anchor" href="#åœ°å›¾å›¾æ ‡å®æ—¶æ”¹å˜-çº¢ç»¿ç¯" aria-hidden="true">#</a> åœ°å›¾å›¾æ ‡å®æ—¶æ”¹å˜ï¼ˆçº¢ç»¿ç¯ï¼‰</h3><h2 id="ğŸ§™ğŸ»â€â™€ï¸å¯è¡¥å……åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#ğŸ§™ğŸ»â€â™€ï¸å¯è¡¥å……åŠŸèƒ½" aria-hidden="true">#</a> ğŸ§™ğŸ»â€â™€ï¸å¯è¡¥å……åŠŸèƒ½</h2><h3 id="æ³¨å†Œ" tabindex="-1"><a class="header-anchor" href="#æ³¨å†Œ" aria-hidden="true">#</a> æ³¨å†Œ</h3><p>æ·»åŠ ç”¨æˆ·è¡¨æ ¼å’Œæ³¨å†Œé¡µé¢</p><p>æ³¨æ„åŠ å¯†ï¼Œå¯†ç æ£€éªŒæ”¾ç½®åˆ°åç«¯ã€‚</p>',31);function P(Q,X){const a=c("ExternalLinkIcon");return l(),i("div",null,[f,n("p",null,[n("a",_,[s("å›¾è§£Astroå¤§å±åº”ç”¨_Astroè½»åº”ç”¨ AstroZero_ç”¨æˆ·æŒ‡å—ï¼ˆAstroå¤§å±åº”ç”¨ï¼‰_åä¸ºäº‘ (huaweicloud.com)"),e(a)])]),w,n("p",null,[n("a",T,[s("(4æ¡æ¶ˆæ¯) MySQLæ—¥æœŸæ—¶é—´æ“ä½œå‡½æ•°ï¼ˆæŒºå…¨çš„ï¼‰_mysqlæ—¥æœŸå‡½æ•°_HaleyTigerçš„åšå®¢-CSDNåšå®¢"),e(a)])]),E,n("p",null,[n("a",q,[s(" Interactive Choropleth Map - Leaflet - a JavaScript library for interactive maps https://leafletjs.com/examples/choropleth/"),e(a)])]),N,n("p",null,[s('app.pyä¸ºflaskå®ç°æ–‡ä»¶ï¼Œå°†è¯¥æ–‡ä»¶ä¸‹å®ç°çš„æ–¹æ³•æ¸²æŸ“è‡³æŒ‡å®šç«¯å£ã€‚ï¼ˆæ­¤æ—¶é¡µé¢è·¯å¾„ä¸º"'),n("a",R,[s("http://123.60.185.153:8089"),e(a)]),s('"ï¼‰')]),x,n("p",null,[s('åœ¨æ­¤åŸºç¡€ï¼ˆå·²æœ‰ç«¯å£ï¼‰ä¸Šæ·»åŠ è·¯å¾„ã€‚å°†æ•°æ®åº“æ•°æ®æ¸²æŸ“è‡³æŒ‡å®šçš„é¡µé¢ä¸­ï¼Œåœ¨é¡µé¢ä¸­è·³è½¬è·¯å¾„å³å¯ï¼ˆä¸‹æ–¹è·¯å¾„ä¸º"'),n("a",S,[s("http://123.60.185.153:8089/"),e(a)]),s('<address>/"ï¼‰')]),A,n("p",null,[s('ä¸‹æ–¹è·¯å¾„ä¸º"'),n("a",I,[s("http://123.60.185.153:8089/"),e(a)]),s('<address>/data/"')]),L,n("p",null,[n("a",M,[s("Docker å®¹å™¨ä½¿ç”¨ | èœé¸Ÿæ•™ç¨‹ (runoob.com)"),e(a)])]),n("p",null,[n("a",C,[s("(1æ¡æ¶ˆæ¯) dockeråŸºç¡€çŸ¥è¯†ä¹‹æŒ‚è½½æœ¬åœ°ç›®å½•_docker æŒ‚è½½ç›®å½•__ä¸–çºªæœ«çš„é­”æœ¯å¸ˆ_çš„åšå®¢-CSDNåšå®¢"),e(a)])]),O,n("ol",null,[n("li",null,[n("p",null,[s("flaskéƒ¨ç½²æ•™ç¨‹ ï¼ˆæœ¬é¡¹ç›®ç”¨äº†Geventï¼‰ "),n("a",D,[s("ç‹¬ç«‹ WSGI å®¹å™¨_Flaskä¸­æ–‡ç½‘"),e(a)])])]),U]),F,j,n("p",null,[s("ã€åä¸ºäº‘ç‰©è”ç½‘å¼€å‘ï¼ˆä¸€ï¼‰è®¾å¤‡ä¸Šäº‘ã€‘ "),n("a",H,[s("https://www.bilibili.com/video/BV1Md4y1v7m5/?share_source=copy_web&vd_source=ae116ba1453d272bfc648f15df41bed0"),e(a)])]),n("p",null,[n("a",Y,[s("Node.js Demoä½¿ç”¨è¯´æ˜_è®¾å¤‡æ¥å…¥ IoTDA_å¼€å‘æŒ‡å—_è®¾å¤‡ä¾§å¼€å‘_ä½¿ç”¨MQTT Demoæ¥å…¥_åä¸ºäº‘ (huaweicloud.com)"),e(a)])]),B,n("p",null,[n("a",G,[s("åœ¨ Ubuntu ä¸Šå®‰è£…å’Œé…ç½® MySQL ä¿å§†çº§æ•™ç¨‹ - çŸ¥ä¹ (zhihu.com)"),e(a)])]),V])}const W=o(y,[["render",P],["__file","electromobile.html.vue"]]);export{W as default};
