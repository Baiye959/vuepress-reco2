---
title: æ¬¢è¿æ¥åˆ°Baiye959çš„åšå®¢ï¼
date: 2024/01/22
categories:
 - other
sticky: 1
---
æœ¬ç«™ä½¿ç”¨[vuepress-theme-reco2.x](https://vuepress-theme-reco.recoluan.com/)ä¸»é¢˜ï¼Œå‚è€ƒé“¾æ¥å¦‚ä¸‹ï¼š
1. [ä¸ªäººåšå®¢æ­å»ºé‡å‘æµç¨‹ã®VuePress2 ğŸ“•](https://juejin.cn/post/7140934570370662407)
2. [ä¸»é¢˜å®˜ç½‘æ–‡æ¡£](https://vuepress-theme-reco.recoluan.com/docs/theme/frontmatter-home.html)
3. [1å°æ—¶å¿«é€Ÿæ­å»ºvuepressä¸ªäººåšå®¢ã€2022é‡å½•å¸¦æºç ã€‘](https://www.bilibili.com/video/BV17t41177cr)
4. [ã€å•°é‡Œå•°å—¦ã€‘ä¸€æ­¥æ­¥æ­å»º VuePress åŠä¼˜åŒ–](https://www.bilibili.com/video/BV1vb411m7NY)

å»ºè®®å…ˆçœ‹é“¾æ¥4çš„P1æŠŠæœ¬åœ°ç¯å¢ƒæ­å»ºå¥½ï¼Œå†è·Ÿç€é“¾æ¥1å’Œé“¾æ¥2æ­å»º[vuepress-theme-reco2.x](https://vuepress-theme-reco.recoluan.com/)åšå®¢ï¼Œæœ€åè·Ÿç€é“¾æ¥3æŠŠåšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Šã€‚
<br/>
è¿™é‡Œå‘ç°é“¾æ¥3çš„éƒ¨ç½²æ˜¯åœ¨CentOSæœåŠ¡å™¨ä¸Šï¼Œè€ŒCentOS7ä¸æ”¯æŒ[vuepress-theme-reco2.x](https://vuepress-theme-reco.recoluan.com/)æ‰€éœ€çš„node16ï¼Œå…ˆä½¿ç”¨ä¸‹æ–‡çš„åº”æ€¥æ–¹æ¡ˆã€‚

## ğŸ‘¾ä½¿ç”¨æ„Ÿå—
ä¼˜ç‚¹ï¼š
1. ç¾è§‚ç®€æ´ã€å®¹æ˜“ä¸Šæ‰‹
2. ä½¿ç”¨markdownè¯­æ³•ï¼Œæ–¹ä¾¿è¿ç§»ã€å¤‡ä»½
3. åœ¨æœ¬åœ°ç”¨vscodeå†™markdownå¾ˆèˆ’é€‚
4. ç¨³å®šã€å°å·§ï¼ˆä¸åƒwordpressé‚£æ ·åœ¨ç½‘ç«™ä¸Šç¼–å†™ï¼Œéœ€è¦çš„æœåŠ¡å™¨èµ„æºè¾ƒå°‘ï¼‰

ç¼ºç‚¹ï¼š
1. å®˜æ–¹æ–‡æ¡£ä¸å¤Ÿè¯¦ç»†ï¼Œä½¿ç”¨äººæ•°è¾ƒå°‘ï¼Œå¾ˆå¤šé—®é¢˜æ— æ³•å¿«é€Ÿæ‰¾åˆ°ç­”æ¡ˆ
2. æ·»åŠ å›¾ç‰‡å¤ªéº»çƒ¦
## ğŸä½¿ç”¨ä¸­å‘ç°çš„é—®é¢˜
1. çƒ­æ›´æ–°é—®é¢˜ï¼šå¦‚æœæ¶‰åŠæ–‡ä»¶çš„å¢åŠ åˆ é™¤ï¼ˆç›®å½•ä¸Šå‘ç”Ÿæ”¹å˜ï¼‰ï¼Œè¦é‡æ–°æ‰§è¡Œ`yarn dev`æ‰èƒ½æ›´æ–°
2. æœ‰æ—¶å€™æ–‡ç« ç›®å½•ä¸æ˜¾ç¤º...å½“ç„¶è¿™ä¸ªé—®é¢˜åœ¨å‘å¸ƒçš„é™æ€ä¸­ä¸ä¼šå‡ºç°ï¼Œåªæ˜¯æœ¬åœ°`yarn dev`çš„æ—¶å€™ä¸å¤ªèˆ’æœ
3. æ ‡ç­¾é¡µå›¾æ ‡æ²¡è¯´æ€ä¹ˆè®¾ç½®

## ğŸ¤–å¾…å®Œå–„
- [ ] äº‘æœåŠ¡å™¨ä¸Šçš„æ„å»ºå°è¯•
- [ ] webhookæ¨é€è§¦å‘è‡ªåŠ¨æ„å»º
- [x] å¤‡æ¡ˆ
- [x] sslè¯ä¹¦é…ç½®

## å½“å‰åº”æ€¥æ–¹æ¡ˆ
æœ¬ç«™éƒ¨ç½²æš‚æœªå®Œæˆï¼Œåº”æ€¥æ–¹æ¡ˆå¦‚ä¸‹ï¼š<br/>
1. åœ¨æœ¬åœ°ï¼ˆwindowsï¼‰è¿›è¡Œæ„å»ºï¼Œæ¨é€åˆ°githubä»“åº“
2. äº‘æœåŠ¡å™¨ï¼ˆubuntu20.04ï¼‰ä¸Šapache2+crontabå®šæ—¶æ‰§è¡Œgit pullè„šæœ¬

### æœ¬åœ°ï¼ˆwindowsï¼‰
æœ¬åœ°çš„æäº¤è„šæœ¬å¦‚ä¸‹ï¼Œç”¨`bash push.sh`æ‰§è¡Œï¼š
```bash
#!/bin/bash
# yarn build
git add .
git commit -m "change"
git push
```
è¿™é‡Œä¸çŸ¥é“ä¸ºä»€ä¹ˆç”¨è„šæœ¬æ‰§è¡Œ`yarn build`çš„æ—¶å€™ä¼šæŠ¥é”™"Yarn requires Node.js 4.0 or higher to be installed."ï¼Œç›´æ¥åœ¨ç»ˆç«¯æ‰§è¡Œå¯ä»¥æˆåŠŸã€‚<br/>
æ‰§è¡Œ`yarn build`æŠ¥é”™"Error: EBUSY: resource busy or locked, unlink 'C:\CodeSpace\vuepress-reco2\.vuepress\dist\assets\app-zpDucuRP.js'"ï¼Œå¯ä»¥æ‰§è¡Œ`yarn cache clean`è§£å†³ã€‚

### äº‘æœåŠ¡å™¨
deploy.shå†…å®¹å¦‚ä¸‹ï¼š
```bash
#!/bin/bash
cd /root/vuepress-reco2
git pull
cp -rf .vuepress/dist/ ~
rm -r /root/html
mv /root/dist /root/html
cp -rf /root/html /var/www
```
ç¼–è¾‘crontabè¦æ‰§è¡Œçš„å‘½ä»¤:
```bash
vim /etc/crontab
```
æ·»åŠ ä»¥ä¸‹å­—æ®µï¼š
```
*/10  *   * * *   root   bash /root/vuepress-reco2/deploy.sh
```
æ„æ€æ˜¯æ¯ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡è„šæœ¬deploy.shï¼Œä»¥ä¸‹æ˜¯å®˜æ–¹æ ·ä¾‹ï¼š
```
# Example of job definition:
# .---------------- minute (0 - 59)
# |  .------------- hour (0 - 23)
# |  |  .---------- day of month (1 - 31)
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# |  |  |  |  |
# *  *  *  *  * user-name command to be executed
```

ä¿å­˜é€€å‡ºåé‡æ–°è½½å…¥croné…ç½®ï¼š
```
service cron reload
```

å¼€å¯crontabæ—¥è®°ï¼š
```
sudo vim /etc/rsyslog.d/50-default.conf 
```
å°†cronç›¸å…³è¡Œçš„æ³¨é‡Šå–æ¶ˆï¼Œä¿å­˜é€€å‡ºï¼Œé‡å¯rsyslogï¼š
```
sudo service rsyslog restart
```